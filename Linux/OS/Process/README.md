# Introduction to processes
درین بخش می خواهیم به پراسس ها و ساختار آنها و همچنین آرایش حافظه درآنها بپردازیم.

توجه داشته باشید که این قسمت خلاصه و کلیتی از فصل 6 کتاب The Linux Programming Interface است.

## | What is a process?
یک پراسس را می توان به طورکلی برنامه ای دانست که درحال اجراست. به عنوان مثال فرض کنید که یک فایل اجراشدنی داریم. منظور از فایل اجراشدنی فایلیست که کامپایل و لینک شده و برای سیستم عامل قابل اجراست. در ویندوز این فایل ها معمولا پسوند exe دارند.

حال اگر این فایل را با دوبار کلیک با از طریق ترمینال اجرا کنیم، یک پراسس ساخته ایم که با تمام شدن برنامه این پراسس از بین می رود. حالا فرض کنید که برنامه حلقه ای دارد که باعث می شود بلافاصله بعد از اجرا تمام نشود یا مثلا بعد از اجرا منتظر ورودی گرفتن از شماست و تمام نمی شود، اگر درین حین دوباره برنامه را با دوبار کلیک یا از طریق ترمینال اجرا کنید، یک پراسس دیگر ساخته اید.

## | Programs vs Processes
شاید بپرسید تفاوت بین یک برنامه و پراسس چیست؟

برنامه یا program به یک فایل اجرایی می گویند (به کلمه فایل دقت کنید) اما پراسس ها همانطور که در قسمت قبل گفتیم مثل اشیایی هستند که از یک برنامه ساخته شده اند و درون رم قرار گرفته، درحال اجرا هستند.

## | How to list Processes?
در لینوکس میتوانیم به روش های مختلفی پراسس ها را لیست کرده و ببینیم. یکی از این روش ها به شکل زیر با اجرای دستور `ps` است.
```bash
$ ps -e
```
فلگ `e-` اینجا برای انتخاب تمام پراسس ها استفاده می شود.

در ویندوز نیز به طریقی مشابه با استفاده از دستور `tasklist` در ترمینال یا `Get-Process` در پاورشل میتوانیم لیست همه پراسس ها را ببینیم.
البته توجه داشته باشید که باید پاورشل یا ترمنیال رو با راست کلیک و انتخاب گزینه `Run as administrator` اجرا کنید.

## | PID and PPID
سیستم عامل وظیفه مدیریت پراسس ها را دارد و برای انجام این وظیفه باید بتواند پراسس ها را از هم تشخیص بدهد. پس به هر پراسس یک Id انتساب میدهد.
این آیدی ها Process id یا PID نامیده می شوند.
در لینوکس هنگامی که سیستم عامل روشن می شود پراسسی با PID مساوی یک به اسم init یا در لینوکس های جدیدتر systemd تولید می شود و این پراسس همه پراسس های لازم برای اجرای سیستم عامل را اجرا می کند (اینکه چگونه یک پراسس، پراسس دیگری را اجرا می کند را جلوتر توضیح میدهیم).

همچنین هر پراسسی یک پدر یا والد دارد که آنرا اجرا کرده است( به جز چند مورد مانند init)
و این پدر برای خودش یک PID دارد.
پس هر پراسس علاوه بر PID یک PPID دارد که نشان دهنده ی PID ی والدش است و به این ترتیب کل پراسس ها یک درخت تشکیل می دهند.

در لینوکس می توانیم PID و PPID پراسس ها را به روش های مختلفی ببینیم. یکی ازین روش ها استفاده از همان ابزار `ps` است. مانند خط زیر:

```shell
> ps -e -o comm,pid,ppid
```

جالب اینکه در لینوکس این درخت در نهایت به init یا systemd می رسد. یعنی همه پراسس ها یا توسط خود اینیت به اجرا درآمده اند یا توسط پراسس هایی که اینیت تشکیل داده اجرا شده اند.

البته در سیستم عامل های دیگر مانند ویندوز یا اندروید هم پراسسی شبیه به اینیت در لینوکس وجود دارد. به عنوان مثال در ویندوز پراسسی با اسم wininit را داریم که مانند اینیت لینوکس است.

در لینوکس می توانیم با استفاده از دستور `pstree` درخت پراسس ها را به شکل گرافیکی ببینیم.

ادامه دارد ...